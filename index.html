<html>
<script src='https://d3js.org/d3.v5.min.js'></script>
<script src='https://rawgit.com/susielu/d3-annotation/master/d3-annotation.min.js'></script>
<title> Gasoline prices 2021 conversion from 1950 </title>
<center><h1> Gasoline price trend from 1950 reflecting inflation in 2021 </h1></center>
<meta charset='utf-8'>
<style> rect {fill: red; stroke: blue;} </style>
<body onload='init()'>
<svg width = 1000 height = 1000>
</svg>
<script>
      // annotation reference : https://d3-graph-gallery.com/graph/custom_annotation.html
      // source URL : https://afdc.energy.gov/data/10641
async function init() {
      data = await d3.csv("gasoline_prices_conversion_2021.csv")
      
      var x = d3.scaleLinear().domain([1950,2021]).range([0,400])
      var y = d3.scaleLinear().domain([0,5]).range([400,0])
      var svg = d3.select('svg').append('g').attr('transform', 'translate(100,100)')
      var svg2 = d3.select('svg').append('g').attr('transform', 'translate(100,500)')
      
      svg.selectAll('rect').data(data).enter().append('rect').attr('width', 4).attr('height', 4).attr('x', function(d) { return x(d['Year']);}).attr('y', function(d) { return y(d['Gasoline Price (2021 $/gallon)']);})

      svg2.call(d3.axisBottom(x).tickValues([1950,1960,1970,1980,1990,2000,2010,2021]).tickFormat(d3.format('.0f')))
      d3.select('svg').append('text').attr('x', 300).attr('y', 500).text('year')
      svg.call(d3.axisLeft(y).tickValues([0,1,3,5]).tickFormat(d3.format('.2f')))
      d3.select('svg').append('text').attr('x', 100).attr('y', 250).attr('transform', 'rotate(270)').text('price')

      // format reference : https://observablehq.com/@d3/d3-format
}
</script>
</body>
</html>
